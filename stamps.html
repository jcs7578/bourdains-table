<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Passport Stamps â€” Eat Like Anthony</title>
  <meta name="description" content="Every country Anthony Bourdain visited, displayed as passport stamps.">

  <!-- App CSS -->
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>

  <!-- ============ NAV ============ -->
  <nav class="site-nav">
    <a href="index.html" class="nav-link">Map</a>
    <a href="stamps.html" class="nav-link active">Passport</a>
    <a href="about.html" class="nav-link">About</a>
  </nav>

  <!-- ============ HEADER ============ -->
  <header class="site-header">
    <h1 class="site-title">Passport Stamps</h1>
    <p class="site-subtitle">"Walk in someone else's shoes â€” or at least eat their food."</p>
    <div class="stamps-stats">
      <span class="stat-item" id="stat-countries"></span>
      <span class="stat-divider">/</span>
      <span class="stat-item" id="stat-restaurants"></span>
      <span class="stat-divider">/</span>
      <span class="stat-item" id="stat-shows"></span>
    </div>
  </header>

  <!-- ============ MAIN ============ -->
  <main class="stamps-content">
    <div id="stamps-grid" class="stamps-grid">
      <!-- Rendered by JS -->
    </div>
  </main>

  <!-- ============ FOOTER ============ -->
  <footer class="site-footer">
    <p class="footer-quote">"Without experimentation, a willingness to ask questions and try new things, we shall surely become static, repetitive, and moribund."</p>
    <p>Built with Leaflet.js &middot; No frameworks, no fuss.</p>
  </footer>

  <!-- Data (needed for stamp generation) -->
  <script src="js/data.js"></script>
  <script>
    (function () {
      'use strict';

      // Country-specific stamp designs â€” flag-inspired colors + icon
      var COUNTRY_STAMPS = {
        "Argentina":           { bg: '#75aadb', fg: '#ffffff', accent: '#f6b40e', icon: 'ðŸ‡¦ðŸ‡·' },
        "Australia":           { bg: '#00008b', fg: '#ffffff', accent: '#ff0000', icon: 'ðŸ‡¦ðŸ‡º' },
        "Brazil":              { bg: '#009c3b', fg: '#ffffff', accent: '#ffdf00', icon: 'ðŸ‡§ðŸ‡·' },
        "Cambodia":            { bg: '#032ea1', fg: '#ffffff', accent: '#e00025', icon: 'ðŸ‡°ðŸ‡­' },
        "Canada":              { bg: '#ff0000', fg: '#ffffff', accent: '#ffffff', icon: 'ðŸ‡¨ðŸ‡¦' },
        "China":               { bg: '#de2910', fg: '#ffde00', accent: '#ffde00', icon: 'ðŸ‡¨ðŸ‡³' },
        "Colombia":            { bg: '#fcd116', fg: '#003893', accent: '#ce1126', icon: 'ðŸ‡¨ðŸ‡´' },
        "Cuba":                { bg: '#002a8f', fg: '#ffffff', accent: '#cb1515', icon: 'ðŸ‡¨ðŸ‡º' },
        "Denmark":             { bg: '#c60c30', fg: '#ffffff', accent: '#ffffff', icon: 'ðŸ‡©ðŸ‡°' },
        "Ethiopia":            { bg: '#078930', fg: '#ffffff', accent: '#fcdd09', icon: 'ðŸ‡ªðŸ‡¹' },
        "France":              { bg: '#002395', fg: '#ffffff', accent: '#ed2939', icon: 'ðŸ‡«ðŸ‡·' },
        "Georgia":             { bg: '#ff0000', fg: '#ffffff', accent: '#ffffff', icon: 'ðŸ‡¬ðŸ‡ª' },
        "Greece":              { bg: '#0d5eaf', fg: '#ffffff', accent: '#ffffff', icon: 'ðŸ‡¬ðŸ‡·' },
        "Hong Kong":           { bg: '#de2910', fg: '#ffffff', accent: '#ffffff', icon: 'ðŸ‡­ðŸ‡°' },
        "India":               { bg: '#ff9933', fg: '#ffffff', accent: '#138808', icon: 'ðŸ‡®ðŸ‡³' },
        "Indonesia":           { bg: '#ff0000', fg: '#ffffff', accent: '#ffffff', icon: 'ðŸ‡®ðŸ‡©' },
        "Iran":                { bg: '#239f40', fg: '#ffffff', accent: '#da0000', icon: 'ðŸ‡®ðŸ‡·' },
        "Israel":              { bg: '#0038b8', fg: '#ffffff', accent: '#ffffff', icon: 'ðŸ‡®ðŸ‡±' },
        "Italy":               { bg: '#008c45', fg: '#ffffff', accent: '#cd212a', icon: 'ðŸ‡®ðŸ‡¹' },
        "Jamaica":             { bg: '#009b3a', fg: '#000000', accent: '#fed100', icon: 'ðŸ‡¯ðŸ‡²' },
        "Japan":               { bg: '#bc002d', fg: '#ffffff', accent: '#ffffff', icon: 'ðŸ‡¯ðŸ‡µ' },
        "Kenya":               { bg: '#006600', fg: '#ffffff', accent: '#bb0000', icon: 'ðŸ‡°ðŸ‡ª' },
        "Laos":                { bg: '#002868', fg: '#ffffff', accent: '#ce1126', icon: 'ðŸ‡±ðŸ‡¦' },
        "Lebanon":             { bg: '#ed1c24', fg: '#ffffff', accent: '#00a651', icon: 'ðŸ‡±ðŸ‡§' },
        "Madagascar":          { bg: '#007e39', fg: '#ffffff', accent: '#fc3d32', icon: 'ðŸ‡²ðŸ‡¬' },
        "Malaysia":            { bg: '#010066', fg: '#ffcc00', accent: '#cc0001', icon: 'ðŸ‡²ðŸ‡¾' },
        "Mexico":              { bg: '#006847', fg: '#ffffff', accent: '#ce1126', icon: 'ðŸ‡²ðŸ‡½' },
        "Morocco":             { bg: '#c1272d', fg: '#006233', accent: '#006233', icon: 'ðŸ‡²ðŸ‡¦' },
        "Myanmar":             { bg: '#fecb00', fg: '#34b233', accent: '#ea2839', icon: 'ðŸ‡²ðŸ‡²' },
        "Nigeria":             { bg: '#008751', fg: '#ffffff', accent: '#ffffff', icon: 'ðŸ‡³ðŸ‡¬' },
        "Peru":                { bg: '#d91023', fg: '#ffffff', accent: '#ffffff', icon: 'ðŸ‡µðŸ‡ª' },
        "Philippines":         { bg: '#0038a8', fg: '#ffffff', accent: '#ce1126', icon: 'ðŸ‡µðŸ‡­' },
        "Portugal":            { bg: '#006600', fg: '#ffffff', accent: '#ff0000', icon: 'ðŸ‡µðŸ‡¹' },
        "Puerto Rico":         { bg: '#3c3b6e', fg: '#ffffff', accent: '#b22234', icon: 'ðŸ‡µðŸ‡·' },
        "Senegal":             { bg: '#00853f', fg: '#fdef42', accent: '#e31b23', icon: 'ðŸ‡¸ðŸ‡³' },
        "Singapore":           { bg: '#ed2939', fg: '#ffffff', accent: '#ffffff', icon: 'ðŸ‡¸ðŸ‡¬' },
        "South Korea":         { bg: '#003478', fg: '#ffffff', accent: '#c60c30', icon: 'ðŸ‡°ðŸ‡·' },
        "Spain":               { bg: '#c60b1e', fg: '#ffc400', accent: '#ffc400', icon: 'ðŸ‡ªðŸ‡¸' },
        "Tanzania":            { bg: '#1eb53a', fg: '#ffffff', accent: '#00a3dd', icon: 'ðŸ‡¹ðŸ‡¿' },
        "Thailand":            { bg: '#a51931', fg: '#ffffff', accent: '#2d2a4a', icon: 'ðŸ‡¹ðŸ‡­' },
        "Trinidad and Tobago": { bg: '#ce1126', fg: '#ffffff', accent: '#000000', icon: 'ðŸ‡¹ðŸ‡¹' },
        "Turkey":              { bg: '#e30a17', fg: '#ffffff', accent: '#ffffff', icon: 'ðŸ‡¹ðŸ‡·' },
        "Uganda":              { bg: '#000000', fg: '#fcdc04', accent: '#d90000', icon: 'ðŸ‡ºðŸ‡¬' },
        "United Kingdom":      { bg: '#012169', fg: '#ffffff', accent: '#c8102e', icon: 'ðŸ‡¬ðŸ‡§' },
        "United States":       { bg: '#3c3b6e', fg: '#ffffff', accent: '#b22234', icon: 'ðŸ‡ºðŸ‡¸' },
        "Uruguay":             { bg: '#001489', fg: '#ffffff', accent: '#ffffff', icon: 'ðŸ‡ºðŸ‡¾' },
        "Vietnam":             { bg: '#da251d', fg: '#ffcd00', accent: '#ffcd00', icon: 'ðŸ‡»ðŸ‡³' },
      };

      // Fallback for any country not in the map
      var DEFAULT_STAMP = { bg: '#5a4d3e', fg: '#f4efe4', accent: '#b8860b', icon: '' };

      // Gather country data from restaurants
      var countryData = {};
      RESTAURANTS.forEach(function (r) {
        var c = r.country;
        if (!countryData[c]) {
          countryData[c] = { shows: new Set(), count: 0, cities: new Set() };
        }
        countryData[c].count++;
        countryData[c].shows.add(r.show);
        countryData[c].cities.add(r.city);
      });

      // Sort countries by restaurant count (descending)
      var countries = Object.keys(countryData).sort(function (a, b) {
        return countryData[b].count - countryData[a].count;
      });

      // Random rotation between -5 and 5 degrees
      function randRotation() {
        return (Math.random() * 10 - 5).toFixed(1);
      }

      // Stamp shapes cycle
      var shapes = ['stamp-circle', 'stamp-rect', 'stamp-rounded'];

      // Render stamps
      var grid = document.getElementById('stamps-grid');
      var html = '';

      countries.forEach(function (country, idx) {
        var data = countryData[country];
        var stamp = COUNTRY_STAMPS[country] || DEFAULT_STAMP;
        var shape = shapes[idx % shapes.length];
        var rotation = randRotation();
        var cities = Array.from(data.cities).slice(0, 3).join(' \u2022 ');
        var showList = Array.from(data.shows).map(function (s) {
          return SHOW_MAP[s] ? SHOW_MAP[s].abbr : s;
        }).join(' / ');

        html += '<div class="passport-stamp ' + shape + '" style="';
        html += 'transform: rotate(' + rotation + 'deg);';
        html += '--stamp-bg: ' + stamp.bg + ';';
        html += '--stamp-fg: ' + stamp.fg + ';';
        html += '--stamp-accent: ' + stamp.accent + ';';
        html += '">';
        html += '<div class="stamp-icon">' + stamp.icon + '</div>';
        html += '<div class="stamp-country">' + country + '</div>';
        html += '<div class="stamp-count">' + data.count + ' spot' + (data.count > 1 ? 's' : '') + '</div>';
        html += '<div class="stamp-cities">' + cities + '</div>';
        html += '<div class="stamp-shows">' + showList + '</div>';
        html += '</div>';
      });

      grid.innerHTML = html;

      // Stats
      document.getElementById('stat-countries').textContent = countries.length + ' Countries';
      document.getElementById('stat-restaurants').textContent = RESTAURANTS.length + ' Restaurants';
      document.getElementById('stat-shows').textContent = '4 Shows';
    })();
  </script>

</body>
</html>
